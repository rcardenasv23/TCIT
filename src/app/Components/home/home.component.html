<div class="container">
  <form (ngSubmit)="filterPosts()" [formGroup]="search" class="row pt-4">
    <div class="d-flex flex-row justify-content-between">
      <input
        formControlName="filter"
        placeholder="Post name..."
        type="text"
        class="form-control w-25"
      />
      <button
        *ngIf="!searchClear"
        type="button"
        (click)="cleanSearch()"
        [disabled]="search.invalid"
        class="btn btn-secondary"
      >
        Clear
      </button>
      <button
        type="submit"
        [disabled]="search.invalid"
        class="btn btn-secondary"
      >
        Search
      </button>
    </div>
  </form>
  <div class="row py-4">
    <div class="table-responsive">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">
              <div class="d-flex justify-content-center align-items-center">
                <p>Name</p>
              </div>
            </th>
            <th scope="col">
              <div class="d-flex justify-content-center align-items-center">
                <p>Description</p>
              </div>
            </th>
            <th scope="col">
              <div class="d-flex justify-content-center align-items-center">
                <p>Action</p>
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let post of posts$ | async">
            <td>{{ post.name }}</td>
            <td>{{ post.description }}</td>
            <td>
              <div class="d-flex justify-content-center align-items-center">
                <button (click)="delete(post.id)" class="btn">Delete</button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-12">
    <form
      (ngSubmit)="addPost()"
      [formGroup]="form"
      class="d-md-flex flex-row w-100"
    >
      <div class="px-2 flex-grow-1">
        <label>Name</label>
        <input type="text" class="form-control" formControlName="name" />
      </div>
      <div class="px-2 flex-grow-1">
        <label>Description</label>
        <textarea
          type="text"
          class="form-control h-25"
          formControlName="description"
        ></textarea>
      </div>
      <div class="d-flex align-items-center p-md-0 py-2 px-2">
        <button
          [disabled]="form.invalid"
          type="submit"
          class="btn btn btn-secondary"
        >
          Upload
        </button>
      </div>
    </form>
  </div>
</div>
